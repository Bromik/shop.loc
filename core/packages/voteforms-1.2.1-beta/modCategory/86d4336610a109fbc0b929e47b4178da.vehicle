<?php return array (
  'unique_key' => 'category',
  'preserve_keys' => false,
  'update_object' => true,
  'related_objects' => 
  array (
    'Chunks' => 
    array (
      '27fdccb008c50e40fd87bfc1ab79fb63' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modChunk',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tpl.VoteForms.outer","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"<form class=\\"form-horizontal vtf\\" data-rating-max=\\"[[+rating_max]]\\" data-form=\\"[[+id]]\\"  data-thread=\\"[[+thread]]\\">\\n    <div class=\\"alert alert-danger alert-dismissible vtf-alert\\" role=\\"alert\\">\\n        <button type=\\"button\\" class=\\"close\\" data-dismiss=\\"alert\\" aria-label=\\"Close\\">\\n            <span aria-hidden=\\"true\\">&times;<\\/span>\\n        <\\/button>\\n        <div class=\\"vtf-message\\"><\\/div>\\n    <\\/div>\\n    [[+output]]\\n    [[+submit]]\\n<\\/form>\\n<form><\\/form>\\n<!--pdotools_submit\\n    <div class=\\"form-group\\">\\n        <div class=\\" col-sm-offset-2 col-sm-10\\">\\n            <button type=\\"submit\\" class=\\"btn btn-default vtf-submit\\" disabled=\\"disabled\\">\\n                [[%voteforms_form_submit]]\\n            <\\/button>\\n        <\\/div>\\n    <\\/div\\n-->","locked":0,"properties":null,"static":0,"static_file":"core\\/components\\/voteforms\\/elements\\/chunks\\/chunk.outer.tpl","content":"<form class=\\"form-horizontal vtf\\" data-rating-max=\\"[[+rating_max]]\\" data-form=\\"[[+id]]\\"  data-thread=\\"[[+thread]]\\">\\n    <div class=\\"alert alert-danger alert-dismissible vtf-alert\\" role=\\"alert\\">\\n        <button type=\\"button\\" class=\\"close\\" data-dismiss=\\"alert\\" aria-label=\\"Close\\">\\n            <span aria-hidden=\\"true\\">&times;<\\/span>\\n        <\\/button>\\n        <div class=\\"vtf-message\\"><\\/div>\\n    <\\/div>\\n    [[+output]]\\n    [[+submit]]\\n<\\/form>\\n<form><\\/form>\\n<!--pdotools_submit\\n    <div class=\\"form-group\\">\\n        <div class=\\" col-sm-offset-2 col-sm-10\\">\\n            <button type=\\"submit\\" class=\\"btn btn-default vtf-submit\\" disabled=\\"disabled\\">\\n                [[%voteforms_form_submit]]\\n            <\\/button>\\n        <\\/div>\\n    <\\/div\\n-->"}',
        'guid' => '94a6812fe788d910506a9e96cf891dac',
        'native_key' => 0,
        'signature' => 'b35f0a0dd7e53fc81ea521b3dc8f67fa',
      ),
      'ca3ffa14a1bd955483e5065d5f6d259a' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modChunk',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tpl.VoteForms.row","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"<div class=\\"form-group\\">\\n    <label class=\\"col-sm-2 control-label\\">\\n        [[+name]]\\n    <\\/label>\\n    <div class=\\"col-sm-10\\">\\n        <div data-id=\\"[[+id]]\\" data-score=\\"[[+record]]\\" class=\\"raty\\"><\\/div>\\n        <span class=\\"glyphicon glyphicon-ok icon-done\\" aria-hidden=\\"true\\"><\\/span>\\n    <\\/div>\\n<\\/div>\\n","locked":0,"properties":null,"static":0,"static_file":"core\\/components\\/voteforms\\/elements\\/chunks\\/chunk.row.tpl","content":"<div class=\\"form-group\\">\\n    <label class=\\"col-sm-2 control-label\\">\\n        [[+name]]\\n    <\\/label>\\n    <div class=\\"col-sm-10\\">\\n        <div data-id=\\"[[+id]]\\" data-score=\\"[[+record]]\\" class=\\"raty\\"><\\/div>\\n        <span class=\\"glyphicon glyphicon-ok icon-done\\" aria-hidden=\\"true\\"><\\/span>\\n    <\\/div>\\n<\\/div>\\n"}',
        'guid' => 'c5ae64dabdd8c9deb030d42bc4ee839c',
        'native_key' => 0,
        'signature' => 'a991c53adefc24060100e35b1f1946e5',
      ),
      '228fddca82ce6b841dd2ba6c71461f9e' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modChunk',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tpl.VoteForms.rating","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"<div class=\\"vtf [[+class]]\\" data-rating-max=\\"[[+form.rating_max]]\\">\\n    <div class=\\"row\\">\\n        <span class=\\"vtf-field vtf-field-name\\">\\n            [[+form.name]] [[+field.name]]:\\n        <\\/span>\\n        [[+stars]]\\n        <span class=\\"vtf-field vtf-field-rating badge\\">\\n            [[+rating]]\\n        <\\/span>\\n    <\\/div>\\n    <div class=\\"row\\">\\n        <span class=\\"vtf-field vtf-field-name\\">\\n            [[%voteforms_users_count]]\\n        <\\/span>\\n        <span class=\\"vtf-field vtf-field-users-count badge\\">\\n             [[+users_count]]\\n        <\\/span>\\n    <\\/div>\\n<\\/div>","locked":0,"properties":null,"static":0,"static_file":"core\\/components\\/voteforms\\/elements\\/chunks\\/chunk.rating.tpl","content":"<div class=\\"vtf [[+class]]\\" data-rating-max=\\"[[+form.rating_max]]\\">\\n    <div class=\\"row\\">\\n        <span class=\\"vtf-field vtf-field-name\\">\\n            [[+form.name]] [[+field.name]]:\\n        <\\/span>\\n        [[+stars]]\\n        <span class=\\"vtf-field vtf-field-rating badge\\">\\n            [[+rating]]\\n        <\\/span>\\n    <\\/div>\\n    <div class=\\"row\\">\\n        <span class=\\"vtf-field vtf-field-name\\">\\n            [[%voteforms_users_count]]\\n        <\\/span>\\n        <span class=\\"vtf-field vtf-field-users-count badge\\">\\n             [[+users_count]]\\n        <\\/span>\\n    <\\/div>\\n<\\/div>"}',
        'guid' => 'd969094df02b9a7f286cefe725cc8ba3',
        'native_key' => 0,
        'signature' => '8f136f8438716c1b787609d66442d319',
      ),
    ),
    'Snippets' => 
    array (
      'e5dc88f661bd37c68a05fcde9216901e' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"VoteForm","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\n\\/* @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\nif ($pdoClass = $modx->loadClass($fqn, \'\', false, true)) {\\n  $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} elseif ($pdoClass = $modx->loadClass($fqn, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', false, true)) {\\n  $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n  $modx->log(modX::LOG_LEVEL_ERROR, \'Could not load pdoFetch from \\"MODX_CORE_PATH\\/components\\/pdotools\\/model\\/\\".\');\\n  return false;\\n}\\n\\/** @var VoteForms $VoteForms *\\/\\nif (!$VoteForms = $modx->getService(\'voteforms\', \'VoteForms\', $modx->getOption(\'voteforms_core_path\', null, $modx->getOption(\'core_path\') . \'components\\/voteforms\\/\') . \'model\\/voteforms\\/\', $scriptProperties)) {\\n  return \'Could not load VoteForms class!\';\\n}\\nif (!$VoteForms->authenticated) {\\n  return $modx->lexicon(\'voteforms_form_err_no_auth\');\\n}\\n$VoteForms->initialize($modx->context->key, $scriptProperties);\\n\\n\\/\\/ Properties\\nif (empty($thread)) {\\n  $scriptProperties[\'thread\'] = $modx->getOption(\'thread\', $scriptProperties, \'resource-\' . $modx->resource->id, true);\\n}\\nif(empty($id)){\\n  return $modx->lexicon(\'voteforms_form_err_id\');\\n}else{\\n  $formId = $modx->getOption(\'id\', $scriptProperties);\\n}\\n$tplOuter = $modx->getOption(\'tplOuter\', $scriptProperties);\\n$tplRow = $modx->getOption(\'tplRow\', $scriptProperties);\\n$sortby = $modx->getOption(\'sortby\', $scriptProperties, \'index\');\\n$sortdir = $modx->getOption(\'sortbir\', $scriptProperties, \'ASC\');\\n\\/\\/$limit = $modx->getOption(\'limit\', $scriptProperties, 5);\\n\\/\\/$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \\"\\\\n\\");\\n\\/\\/$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, false);\\n\\n\\/\\/ Prepare Voteforms Thread\\n\\/** @var TicketThread $thread *\\/\\n$thread = $modx->getObject(\'VoteFormThread\', array(\\n  \'name\' => $scriptProperties[\'thread\'],\\n  \'form\' => $formId\\n));\\nif (!$thread) {\\n  $thread = $modx->newObject(\'VoteFormThread\');\\n  $thread->fromArray(array(\\n    \'resource\' => $modx->resource->id,\\n    \'form\' => $formId,\\n    \'name\' => $scriptProperties[\'thread\'],\\n  ));\\n  $thread->save();\\n}\\n$scriptProperties[\'thread\'] = $thread->get(\'id\');\\n\\n\\/\\/ get fields\\n$default = array(\\n  \'class\' => \'VoteFormField\',\\n  \'where\' => array(\\n    \'form\' => $formId,\\n    \'Form.active\' => 1\\n  ),\\n  \'leftJoin\' => array(\\n    \'Form\' => array(\\n      \'class\' => \'VoteForm\',\\n      \'on\' => \'VoteFormField.form = Form.id\'\\n    ),\\n    \'Record\' => array(\\n      \'class\' => \'VoteFormRecord\',\\n      \'on\' => \\"VoteFormField.id = Record.field\\" .\\n        \\" AND Form.id = Record.form\\" .\\n        \\" AND Record.thread = {$thread->get(\'id\')}\\" .\\n        \\" AND Record.createdby = {$modx->user->id}\\"\\n    ),\\n  ),\\n  \'select\' => array(\\n    \'VoteFormField\' => \'*\',\\n    \'Record\' => \'Record.integer as record\',\\n    \'Form\' => \'Form.rating_max as rating_max\',\\n  ),\\n  \'return\' => \'data\',\\n);\\n$pdoFetch->setConfig($default);\\n$rows = $pdoFetch->run();\\n\\/\\/ Processing rows\\n$ratingMax = null;\\n$output = array();\\nif (!empty($rows) && is_array($rows)) {\\n  foreach ($rows as $k => $row) {\\n    $ratingMax = $row[\'rating_max\'];\\n    $output[] = $pdoFetch->getChunk($tplRow, $row, $pdoFetch->config[\'fastMode\']);\\n  }\\n}\\n\\n\\/\\/ Output\\nif (empty($outputSeparator)) {\\n  $outputSeparator = \\"\\\\n\\";\\n}\\n$output = implode($outputSeparator, $output);\\n$outputData = array_merge(array(\\n  \'output\' => $output,\\n  \'rating_max\' => $ratingMax\\n), $scriptProperties);\\n$output = $pdoFetch->getChunk($tplOuter, $outputData, $pdoFetch->config[\'fastMode\']);\\n\\/\\/ By default just return output\\nreturn $output;","locked":0,"properties":"a:7:{s:2:\\"id\\";a:7:{s:4:\\"name\\";s:2:\\"id\\";s:4:\\"desc\\";s:17:\\"voteforms_prop_id\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:20:\\"voteforms:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"thread\\";a:7:{s:4:\\"name\\";s:6:\\"thread\\";s:4:\\"desc\\";s:21:\\"voteforms_prop_thread\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:20:\\"voteforms:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"tplRow\\";a:7:{s:4:\\"name\\";s:6:\\"tplRow\\";s:4:\\"desc\\";s:21:\\"voteforms_prop_tplRow\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:17:\\"tpl.VoteForms.row\\";s:7:\\"lexicon\\";s:20:\\"voteforms:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tplOuter\\";a:7:{s:4:\\"name\\";s:8:\\"tplOuter\\";s:4:\\"desc\\";s:23:\\"voteforms_prop_tplOuter\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:19:\\"tpl.VoteForms.outer\\";s:7:\\"lexicon\\";s:20:\\"voteforms:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"sortby\\";a:7:{s:4:\\"name\\";s:6:\\"sortby\\";s:4:\\"desc\\";s:21:\\"voteforms_prop_sortby\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:5:\\"index\\";s:7:\\"lexicon\\";s:20:\\"voteforms:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"sortdir\\";a:7:{s:4:\\"name\\";s:7:\\"sortdir\\";s:4:\\"desc\\";s:22:\\"voteforms_prop_sortdir\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:2:{i:0;a:2:{s:4:\\"text\\";s:3:\\"ASC\\";s:5:\\"value\\";s:3:\\"ASC\\";}i:1;a:2:{s:4:\\"text\\";s:4:\\"DESC\\";s:5:\\"value\\";s:4:\\"DESC\\";}}s:5:\\"value\\";s:3:\\"ASC\\";s:7:\\"lexicon\\";s:20:\\"voteforms:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"submit\\";a:7:{s:4:\\"name\\";s:6:\\"submit\\";s:4:\\"desc\\";s:21:\\"voteforms_prop_submit\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:20:\\"voteforms:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/voteforms\\/elements\\/snippets\\/snippet.vote_form.php","content":"\\/** @var array $scriptProperties *\\/\\n\\/* @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\nif ($pdoClass = $modx->loadClass($fqn, \'\', false, true)) {\\n  $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} elseif ($pdoClass = $modx->loadClass($fqn, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', false, true)) {\\n  $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n  $modx->log(modX::LOG_LEVEL_ERROR, \'Could not load pdoFetch from \\"MODX_CORE_PATH\\/components\\/pdotools\\/model\\/\\".\');\\n  return false;\\n}\\n\\/** @var VoteForms $VoteForms *\\/\\nif (!$VoteForms = $modx->getService(\'voteforms\', \'VoteForms\', $modx->getOption(\'voteforms_core_path\', null, $modx->getOption(\'core_path\') . \'components\\/voteforms\\/\') . \'model\\/voteforms\\/\', $scriptProperties)) {\\n  return \'Could not load VoteForms class!\';\\n}\\nif (!$VoteForms->authenticated) {\\n  return $modx->lexicon(\'voteforms_form_err_no_auth\');\\n}\\n$VoteForms->initialize($modx->context->key, $scriptProperties);\\n\\n\\/\\/ Properties\\nif (empty($thread)) {\\n  $scriptProperties[\'thread\'] = $modx->getOption(\'thread\', $scriptProperties, \'resource-\' . $modx->resource->id, true);\\n}\\nif(empty($id)){\\n  return $modx->lexicon(\'voteforms_form_err_id\');\\n}else{\\n  $formId = $modx->getOption(\'id\', $scriptProperties);\\n}\\n$tplOuter = $modx->getOption(\'tplOuter\', $scriptProperties);\\n$tplRow = $modx->getOption(\'tplRow\', $scriptProperties);\\n$sortby = $modx->getOption(\'sortby\', $scriptProperties, \'index\');\\n$sortdir = $modx->getOption(\'sortbir\', $scriptProperties, \'ASC\');\\n\\/\\/$limit = $modx->getOption(\'limit\', $scriptProperties, 5);\\n\\/\\/$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \\"\\\\n\\");\\n\\/\\/$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, false);\\n\\n\\/\\/ Prepare Voteforms Thread\\n\\/** @var TicketThread $thread *\\/\\n$thread = $modx->getObject(\'VoteFormThread\', array(\\n  \'name\' => $scriptProperties[\'thread\'],\\n  \'form\' => $formId\\n));\\nif (!$thread) {\\n  $thread = $modx->newObject(\'VoteFormThread\');\\n  $thread->fromArray(array(\\n    \'resource\' => $modx->resource->id,\\n    \'form\' => $formId,\\n    \'name\' => $scriptProperties[\'thread\'],\\n  ));\\n  $thread->save();\\n}\\n$scriptProperties[\'thread\'] = $thread->get(\'id\');\\n\\n\\/\\/ get fields\\n$default = array(\\n  \'class\' => \'VoteFormField\',\\n  \'where\' => array(\\n    \'form\' => $formId,\\n    \'Form.active\' => 1\\n  ),\\n  \'leftJoin\' => array(\\n    \'Form\' => array(\\n      \'class\' => \'VoteForm\',\\n      \'on\' => \'VoteFormField.form = Form.id\'\\n    ),\\n    \'Record\' => array(\\n      \'class\' => \'VoteFormRecord\',\\n      \'on\' => \\"VoteFormField.id = Record.field\\" .\\n        \\" AND Form.id = Record.form\\" .\\n        \\" AND Record.thread = {$thread->get(\'id\')}\\" .\\n        \\" AND Record.createdby = {$modx->user->id}\\"\\n    ),\\n  ),\\n  \'select\' => array(\\n    \'VoteFormField\' => \'*\',\\n    \'Record\' => \'Record.integer as record\',\\n    \'Form\' => \'Form.rating_max as rating_max\',\\n  ),\\n  \'return\' => \'data\',\\n);\\n$pdoFetch->setConfig($default);\\n$rows = $pdoFetch->run();\\n\\/\\/ Processing rows\\n$ratingMax = null;\\n$output = array();\\nif (!empty($rows) && is_array($rows)) {\\n  foreach ($rows as $k => $row) {\\n    $ratingMax = $row[\'rating_max\'];\\n    $output[] = $pdoFetch->getChunk($tplRow, $row, $pdoFetch->config[\'fastMode\']);\\n  }\\n}\\n\\n\\/\\/ Output\\nif (empty($outputSeparator)) {\\n  $outputSeparator = \\"\\\\n\\";\\n}\\n$output = implode($outputSeparator, $output);\\n$outputData = array_merge(array(\\n  \'output\' => $output,\\n  \'rating_max\' => $ratingMax\\n), $scriptProperties);\\n$output = $pdoFetch->getChunk($tplOuter, $outputData, $pdoFetch->config[\'fastMode\']);\\n\\/\\/ By default just return output\\nreturn $output;"}',
        'guid' => '69a1fbe63f61faebfa33f7584ff0c27f',
        'native_key' => 0,
        'signature' => 'ad93fa79ec73d50cd5287d0d0cd5444f',
      ),
      '96610d5f89cdb88232bebe380a32bae1' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"getVoteFormRating","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\n\\/* @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\nif ($pdoClass = $modx->loadClass($fqn, \'\', false, true)) {\\n  $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} elseif ($pdoClass = $modx->loadClass($fqn, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', false, true)) {\\n  $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n  $modx->log(modX::LOG_LEVEL_ERROR, \'Could not load pdoFetch from \\"MODX_CORE_PATH\\/components\\/pdotools\\/model\\/\\".\');\\n  return false;\\n}\\n\\/** @var VoteForms $VoteForms *\\/\\nif (!$VoteForms = $modx->getService(\'voteforms\', \'VoteForms\', $modx->getOption(\'voteforms_core_path\', null, $modx->getOption(\'core_path\') . \'components\\/voteforms\\/\') . \'model\\/voteforms\\/\', $scriptProperties)) {\\n  return \'Could not load VoteForms class!\';\\n}\\n\\n$VoteForms->initialize($modx->context->key, $scriptProperties);\\n\\n\\/\\/ Properties\\nif (empty($form)) {\\n  return $modx->lexicon(\'voteforms_form_err_id\');\\n} else {\\n  $form = $modx->getOption(\'form\', $scriptProperties);\\n}\\n$resource = $modx->getOption(\'resource\', $scriptProperties, $modx->resource->id, true);\\n$thread = $modx->getOption(\'thread\', $scriptProperties, \'resource-\' . $resource, true);\\n$field = $modx->getOption(\'field\', $scriptProperties);\\n$tpl = $modx->getOption(\'tpl\', $scriptProperties);\\n$stars = $modx->getOption(\'stars\', $scriptProperties);\\n\\nif($field){\\n  $default = array(\\n    \'class\' => \'VoteFormThread\',\\n    \'where\' => array(\\n      \'form\' => $form,\\n      \'resource\' => $resource,\\n      \'name\' => $thread,\\n    ),\\n    \'leftJoin\' => array(\\n      \'Form\' => array(\\n        \'class\' => \'VoteForm\',\\n        \'on\' => \'VoteFormThread.form = Form.id\'\\n      ),\\n      \'Record\'=>array(\\n        \'class\' => \'VoteFormRecord\',\\n        \'on\' => \\"VoteFormThread.form = Record.form\\" .\\n          \\" AND VoteFormThread.id = Record.thread\\" .\\n          \\" AND {$field} = Record.field\\"\\n      ),\\n      \'Field\' => array(\\n        \'class\' => \'VoteFormField\',\\n        \'on\' => \\"{$field} = Field.id\\"\\n      ),\\n    ),\\n    \'groupby\' => \'Record.thread\',\\n    \'select\' => array(\\n      \'VoteFormThread\' => \'*\',\\n      \'Form\' => $modx->getSelectColumns(\'VoteForm\', \'Form\', \'form.\', array(), true),\\n      \'Field\' => $modx->getSelectColumns(\'VoteFormField\', \'Field\', \'field.\', array(), true),\\n      \'Record\' => \'ROUND(AVG(`integer`), 2) AS `rating`, COUNT(*) AS users_count\',\\n    ),\\n    \'return\' => \'data\',\\n  );\\n}else{\\n  $default = array(\\n    \'class\' => \'VoteFormThread\',\\n    \'where\' => array(\\n      \'form\' => $form,\\n      \'resource\' => $resource,\\n      \'name\' => $thread,\\n    ),\\n    \'leftJoin\' => array(\\n      \'Form\' => array(\\n        \'class\' => \'VoteForm\',\\n        \'on\' => \'VoteFormThread.form = Form.id\'\\n      )),\\n    \'select\' => array(\\n      \'VoteFormThread\' => \'*\',\\n      \'Form\' => $modx->getSelectColumns(\'VoteForm\', \'Form\', \'form.\', array(), true),\\n    ),\\n    \'return\' => \'data\',\\n  );\\n}\\n\\n$pdoFetch->setConfig($default);\\n$outputData= $pdoFetch->run();\\n$outputData = $outputData[0];\\n\\nif($stars){\\n  $outputData[\'stars\'] =\\n    \\"<div\\n    data-read-only=\'true\'\\n    data-thread=\'{$outputData[\'id\']}\'\\n    data-score=\'{$outputData[\'rating\']}\'\\n    class=\'raty read-only\'\\n    ><\\/div>\\";\\n}\\nif($field){\\n  $outputData[\'class\'] = \'\';\\n}else{\\n  $outputData[\'class\'] = \'vtf-thread-[[+id]]\';\\n}\\n\\n$output = $pdoFetch->getChunk($tpl, $outputData, $pdoFetch->config[\'fastMode\']);\\nreturn $output;","locked":0,"properties":"a:6:{s:4:\\"form\\";a:7:{s:4:\\"name\\";s:4:\\"form\\";s:4:\\"desc\\";s:19:\\"voteforms_prop_form\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:20:\\"voteforms:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"resource\\";a:7:{s:4:\\"name\\";s:8:\\"resource\\";s:4:\\"desc\\";s:23:\\"voteforms_prop_resource\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:20:\\"voteforms:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"field\\";a:7:{s:4:\\"name\\";s:5:\\"field\\";s:4:\\"desc\\";s:20:\\"voteforms_prop_field\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:20:\\"voteforms:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"thread\\";a:7:{s:4:\\"name\\";s:6:\\"thread\\";s:4:\\"desc\\";s:21:\\"voteforms_prop_thread\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:20:\\"voteforms:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:3:\\"tpl\\";a:7:{s:4:\\"name\\";s:3:\\"tpl\\";s:4:\\"desc\\";s:18:\\"voteforms_prop_tpl\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:20:\\"tpl.VoteForms.rating\\";s:7:\\"lexicon\\";s:20:\\"voteforms:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"stars\\";a:7:{s:4:\\"name\\";s:5:\\"stars\\";s:4:\\"desc\\";s:20:\\"voteforms_prop_stars\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:20:\\"voteforms:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/voteforms\\/elements\\/snippets\\/snippet.get_rating.php","content":"\\/** @var array $scriptProperties *\\/\\n\\/* @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\nif ($pdoClass = $modx->loadClass($fqn, \'\', false, true)) {\\n  $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} elseif ($pdoClass = $modx->loadClass($fqn, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', false, true)) {\\n  $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n  $modx->log(modX::LOG_LEVEL_ERROR, \'Could not load pdoFetch from \\"MODX_CORE_PATH\\/components\\/pdotools\\/model\\/\\".\');\\n  return false;\\n}\\n\\/** @var VoteForms $VoteForms *\\/\\nif (!$VoteForms = $modx->getService(\'voteforms\', \'VoteForms\', $modx->getOption(\'voteforms_core_path\', null, $modx->getOption(\'core_path\') . \'components\\/voteforms\\/\') . \'model\\/voteforms\\/\', $scriptProperties)) {\\n  return \'Could not load VoteForms class!\';\\n}\\n\\n$VoteForms->initialize($modx->context->key, $scriptProperties);\\n\\n\\/\\/ Properties\\nif (empty($form)) {\\n  return $modx->lexicon(\'voteforms_form_err_id\');\\n} else {\\n  $form = $modx->getOption(\'form\', $scriptProperties);\\n}\\n$resource = $modx->getOption(\'resource\', $scriptProperties, $modx->resource->id, true);\\n$thread = $modx->getOption(\'thread\', $scriptProperties, \'resource-\' . $resource, true);\\n$field = $modx->getOption(\'field\', $scriptProperties);\\n$tpl = $modx->getOption(\'tpl\', $scriptProperties);\\n$stars = $modx->getOption(\'stars\', $scriptProperties);\\n\\nif($field){\\n  $default = array(\\n    \'class\' => \'VoteFormThread\',\\n    \'where\' => array(\\n      \'form\' => $form,\\n      \'resource\' => $resource,\\n      \'name\' => $thread,\\n    ),\\n    \'leftJoin\' => array(\\n      \'Form\' => array(\\n        \'class\' => \'VoteForm\',\\n        \'on\' => \'VoteFormThread.form = Form.id\'\\n      ),\\n      \'Record\'=>array(\\n        \'class\' => \'VoteFormRecord\',\\n        \'on\' => \\"VoteFormThread.form = Record.form\\" .\\n          \\" AND VoteFormThread.id = Record.thread\\" .\\n          \\" AND {$field} = Record.field\\"\\n      ),\\n      \'Field\' => array(\\n        \'class\' => \'VoteFormField\',\\n        \'on\' => \\"{$field} = Field.id\\"\\n      ),\\n    ),\\n    \'groupby\' => \'Record.thread\',\\n    \'select\' => array(\\n      \'VoteFormThread\' => \'*\',\\n      \'Form\' => $modx->getSelectColumns(\'VoteForm\', \'Form\', \'form.\', array(), true),\\n      \'Field\' => $modx->getSelectColumns(\'VoteFormField\', \'Field\', \'field.\', array(), true),\\n      \'Record\' => \'ROUND(AVG(`integer`), 2) AS `rating`, COUNT(*) AS users_count\',\\n    ),\\n    \'return\' => \'data\',\\n  );\\n}else{\\n  $default = array(\\n    \'class\' => \'VoteFormThread\',\\n    \'where\' => array(\\n      \'form\' => $form,\\n      \'resource\' => $resource,\\n      \'name\' => $thread,\\n    ),\\n    \'leftJoin\' => array(\\n      \'Form\' => array(\\n        \'class\' => \'VoteForm\',\\n        \'on\' => \'VoteFormThread.form = Form.id\'\\n      )),\\n    \'select\' => array(\\n      \'VoteFormThread\' => \'*\',\\n      \'Form\' => $modx->getSelectColumns(\'VoteForm\', \'Form\', \'form.\', array(), true),\\n    ),\\n    \'return\' => \'data\',\\n  );\\n}\\n\\n$pdoFetch->setConfig($default);\\n$outputData= $pdoFetch->run();\\n$outputData = $outputData[0];\\n\\nif($stars){\\n  $outputData[\'stars\'] =\\n    \\"<div\\n    data-read-only=\'true\'\\n    data-thread=\'{$outputData[\'id\']}\'\\n    data-score=\'{$outputData[\'rating\']}\'\\n    class=\'raty read-only\'\\n    ><\\/div>\\";\\n}\\nif($field){\\n  $outputData[\'class\'] = \'\';\\n}else{\\n  $outputData[\'class\'] = \'vtf-thread-[[+id]]\';\\n}\\n\\n$output = $pdoFetch->getChunk($tpl, $outputData, $pdoFetch->config[\'fastMode\']);\\nreturn $output;"}',
        'guid' => 'b1b97f92ec79ac5029f90dce69e3fb9c',
        'native_key' => 0,
        'signature' => 'e8e7b3127c030ef784bd785bc3a95318',
      ),
    ),
  ),
  'related_object_attributes' => 
  array (
    'Snippets' => 
    array (
      'preserve_keys' => false,
      'update_object' => true,
      'unique_key' => 'name',
    ),
    'Chunks' => 
    array (
      'preserve_keys' => false,
      'update_object' => true,
      'unique_key' => 'name',
    ),
    'Plugins' => 
    array (
      'preserve_keys' => false,
      'update_object' => true,
      'unique_key' => 'name',
    ),
    'PluginEvents' => 
    array (
      'preserve_keys' => true,
      'update_object' => true,
      'unique_key' => 
      array (
        0 => 'pluginid',
        1 => 'event',
      ),
    ),
  ),
  'namespace' => 'voteforms',
  'resolve' => 
  array (
    0 => 
    array (
      'type' => 'file',
      'body' => '{"source":"voteforms-1.2.1-beta\\/modCategory\\/86d4336610a109fbc0b929e47b4178da\\/0\\/","target":"return MODX_ASSETS_PATH . \'components\\/\';","name":"voteforms"}',
    ),
    1 => 
    array (
      'type' => 'file',
      'body' => '{"source":"voteforms-1.2.1-beta\\/modCategory\\/86d4336610a109fbc0b929e47b4178da\\/1\\/","target":"return MODX_CORE_PATH . \'components\\/\';","name":"voteforms"}',
    ),
    2 => 
    array (
      'type' => 'php',
      'body' => '{"source":"voteforms-1.2.1-beta\\/modCategory\\/86d4336610a109fbc0b929e47b4178da.resolve.tables.resolver","type":"php","name":"resolve.tables"}',
    ),
    3 => 
    array (
      'type' => 'php',
      'body' => '{"source":"voteforms-1.2.1-beta\\/modCategory\\/86d4336610a109fbc0b929e47b4178da.resolve.chunks.resolver","type":"php","name":"resolve.chunks"}',
    ),
    4 => 
    array (
      'type' => 'php',
      'body' => '{"source":"voteforms-1.2.1-beta\\/modCategory\\/86d4336610a109fbc0b929e47b4178da.resolve.setup.resolver","type":"php","name":"resolve.setup"}',
    ),
  ),
  'validate' => NULL,
  'vehicle_package' => 'transport',
  'vehicle_class' => 'xPDOObjectVehicle',
  'guid' => '87d9b789b4da749f8340d2836db866c4',
  'package' => 'modx',
  'class' => 'modCategory',
  'signature' => '86d4336610a109fbc0b929e47b4178da',
  'native_key' => NULL,
  'object' => '{"id":null,"parent":0,"category":"VoteForms"}',
);